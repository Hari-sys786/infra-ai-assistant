<div class="app-shell" [class.sidebar-collapsed]="!sidebarOpen">
  <!-- Sidebar -->
  <aside class="sidebar" [class.open]="sidebarOpen">
    <div class="sidebar-brand">
      <div class="brand-icon">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
          <path d="M12 2L2 7l10 5 10-5-10-5z" fill="#3B82F6"/>
          <path d="M2 17l10 5 10-5" stroke="#3B82F6" stroke-width="2" fill="none"/>
          <path d="M2 12l10 5 10-5" stroke="#3B82F6" stroke-width="2" fill="none" opacity="0.5"/>
        </svg>
      </div>
      <span class="brand-text" *ngIf="sidebarOpen">Infra AI</span>
    </div>

    <nav class="sidebar-nav">
      <a
        *ngFor="let item of navItems"
        [routerLink]="item.route"
        routerLinkActive="active"
        class="nav-item"
        [title]="item.label"
      >
        <span class="nav-icon" [ngSwitch]="item.icon">
          <!-- Chat icon -->
          <svg *ngSwitchCase="'chat'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/>
          </svg>
          <!-- Upload icon -->
          <svg *ngSwitchCase="'upload'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
            <polyline points="17 8 12 3 7 8"/>
            <line x1="12" y1="3" x2="12" y2="15"/>
          </svg>
          <!-- Dashboard icon -->
          <svg *ngSwitchCase="'dashboard'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"/>
            <rect x="14" y="3" width="7" height="7"/>
            <rect x="14" y="14" width="7" height="7"/>
            <rect x="3" y="14" width="7" height="7"/>
          </svg>
        </span>
        <span class="nav-label" *ngIf="sidebarOpen">{{ item.label }}</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <button class="toggle-btn" (click)="toggleSidebar()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline *ngIf="sidebarOpen" points="15 18 9 12 15 6"/>
          <polyline *ngIf="!sidebarOpen" points="9 18 15 12 9 6"/>
        </svg>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main-content">
    <router-outlet></router-outlet>
  </div>
</div>
